# Solution for Url Shortener

## Database

My approach to provide the Url Shortener service is simple and straight forward. The whole concept is providing aliases to urls which will be stored in the database, including the full url. Additional data as custom headers or validity/expiry will be included. We use reference data (ValidityType) to define different validities approaches like single access, expiry, etc.

![Erd Diagram](https://github.com/ivi-hamiti/tech-test/erd-diagram.png)

## Application

Users will access the system via the interface offered to input the url, and extra data needed having the posibility to choose a custom alias, or use the default randomly autogenerated one.

Serving GET request would be simple, for each request find the url and its metadata and respond to the client with an HTTP 301 or 302 for the redirection. While with POST request this can not be done. My approach is to serve as a proxy for the request, so each POST request will be processed by our servers, which will trigger the request to the endpoint, adding even custom headers if present. This could be implemented with different framework, but my approach would be to use Asp.Net NVC (Standart or Core) which will make it simple to manage a wide range of content types.

## Infrastructure

Considering that the database will be havily used for read we need to have a database replica which will be the active one for read-write while the other replicas will be read only. The application servers should be replicated to have more throughput (this depending on the request numbers consindering the post requests mostly here) using a load balancer to distribute requests.