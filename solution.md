# Solution.md
A URL shortening system composed by:

1. **A Load balancer**
    * A balancer layer responsible managing traffic and directing to workers in the rest service layer
    
2. **REST service layer**
    * Responsible for generating a unique short URL by the applied ruleset, the full URL, and a lifetime
    * Responsible for parsing a short URL and redirecting its requisition(including headers) to its full URL, retrieved from either cache or persistency
    * This layer will generate new hashes on demand, based on a ruleset given by the hash coordinator at startup time
    * Once all hashes are used, a new ruleset will be requested to the coordinator
    * If a new worker is added, it'll request a new ruleset to the coordinator
    
3. **Hash Engine**
    * Responsible for serving a ruleset for generating new hashes with properties like hash ranges, hash length, ruleset lifetime
    * Once a ruleset is exausted and/or expired, it will be marked and not used anymore
    
3. **Distributed Cache Engine**
    * Responsible for caching hashes of URLs generated by the workers
    
4. **Distributed Database Engine**
    * A distributed database with high availability
    * Responsible for persistency of:
        * Hash of a URL
        * Its lifetime
        * Full URL path
