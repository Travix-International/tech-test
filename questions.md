# Questions

1 - Do we need a Rest API ? if this will be a one-dimensional platform (only web etc.) we can do the operations directly in the web application layers so we might have slight response time advantage. If this will be a multi-platform, then Rest API will be needed. In this case we have to decide for the authentications, rate limits for the api, versioning etc. for the prevent abuse.

2 - What will be our strategy to clean up one time only urls and expired urls ? In ideal model, if user gets the one time only url, we need to update our caching and database so others can't get the same url again so this will create us a IO load in both cache and db system. And for the expired urls, we need to create a services to clear both cache and flag the db state of the item as "Expired".

3 - What will be our algorithm the create short url hashes ? for example if we use a hash length of a 7 chars within a - z, this will be a combination of 26 ^ 7 so we can create almost 8 billion different hashes, and if we get visitors about 10 million / day we will run out of our created hashes almost within two years if we don't remove our expired hashes etc. so this will be a key question in the design. also what is our hashing algorithm, if we will use a predefined hash algorithms like sha-1 etc. this might be a overkill so we may need a custom implementation in there.

4 - Is this app will be available across world wide ? If yes what is our strategy to handle time zones for the expire times for the urls ? In ideal, we can save our objects in utc +0 time zone and handle it with the visitor's current time zone. But this will add a relatively small performance overhead in our application.

5 - How we will handle the concurrency ? if the multiple user saves the same long url at the same time, we will be created a two short url for the same long url. This is not a blocker problem but there is a unnecessary duplicate rows will be created and this won't be a good design. You can't control it from the cache to check if the record stored in the cache, you need to handle it with a db oriented solution like transaction. but it is a whole new level story if you are using nosql databases, if we want to handle this with a rdbms database solution this will be also affect the overall performance.

6 - What will be our strategy to keep our servers, Cloud or pyhsical local server cluster ? If answer is cloud and we will be decide to scale up our servers, all configuration will be created on cloud (firewalls and proxies, conditional automatic scaling, even distributed servers globally if we decide to make this application global), this will give us a better scalability and we can maintain the servers more quick than physical, but in case of emergency and failure, we have to rely on cloud not ourselves. If we keep the servers physically there is a cost the build up this system and in every failure, we have to check it ourselves. Also there are no benefits for us in the saas & paas etc. side to easily adapt new technologies or products for our servers.